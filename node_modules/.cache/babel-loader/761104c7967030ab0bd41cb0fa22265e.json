{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst ModuleFilenameHelpers = require(\"./ModuleFilenameHelpers\");\n\nclass SourceMapDevToolModuleOptionsPlugin {\n  constructor(options) {\n    this.options = options;\n  }\n\n  apply(compilation) {\n    const options = this.options;\n\n    if (options.module !== false) {\n      compilation.hooks.buildModule.tap(\"SourceMapDevToolModuleOptionsPlugin\", module => {\n        module.useSourceMap = true;\n      });\n    }\n\n    if (options.lineToLine === true) {\n      compilation.hooks.buildModule.tap(\"SourceMapDevToolModuleOptionsPlugin\", module => {\n        module.lineToLine = true;\n      });\n    } else if (options.lineToLine) {\n      compilation.hooks.buildModule.tap(\"SourceMapDevToolModuleOptionsPlugin\", module => {\n        if (!module.resource) return;\n        let resourcePath = module.resource;\n        const idx = resourcePath.indexOf(\"?\");\n        if (idx >= 0) resourcePath = resourcePath.substr(0, idx);\n        module.lineToLine = ModuleFilenameHelpers.matchObject(options.lineToLine, resourcePath);\n      });\n    }\n  }\n\n}\n\nmodule.exports = SourceMapDevToolModuleOptionsPlugin;","map":null,"metadata":{},"sourceType":"script"}