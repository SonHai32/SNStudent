{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nmodule.exports = class RuntimeChunkPlugin {\n  constructor(options) {\n    this.options = Object.assign({\n      name: entrypoint => \"runtime~\".concat(entrypoint.name)\n    }, options);\n  }\n\n  apply(compiler) {\n    compiler.hooks.thisCompilation.tap(\"RuntimeChunkPlugin\", compilation => {\n      compilation.hooks.optimizeChunksAdvanced.tap(\"RuntimeChunkPlugin\", () => {\n        for (const entrypoint of compilation.entrypoints.values()) {\n          const chunk = entrypoint.getRuntimeChunk();\n          let name = this.options.name;\n\n          if (typeof name === \"function\") {\n            name = name(entrypoint);\n          }\n\n          if (chunk.getNumberOfModules() > 0 || !chunk.preventIntegration || chunk.name !== name) {\n            const newChunk = compilation.addChunk(name);\n            newChunk.preventIntegration = true;\n            entrypoint.unshiftChunk(newChunk);\n            newChunk.addGroup(entrypoint);\n            entrypoint.setRuntimeChunk(newChunk);\n          }\n        }\n      });\n    });\n  }\n\n};","map":null,"metadata":{},"sourceType":"script"}