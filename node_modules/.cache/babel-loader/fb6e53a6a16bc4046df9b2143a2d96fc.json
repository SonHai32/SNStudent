{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst CaseSensitiveModulesWarning = require(\"./CaseSensitiveModulesWarning\");\n\nclass WarnCaseSensitiveModulesPlugin {\n  apply(compiler) {\n    compiler.hooks.compilation.tap(\"WarnCaseSensitiveModulesPlugin\", compilation => {\n      compilation.hooks.seal.tap(\"WarnCaseSensitiveModulesPlugin\", () => {\n        const moduleWithoutCase = new Map();\n\n        for (const module of compilation.modules) {\n          const identifier = module.identifier().toLowerCase();\n          const array = moduleWithoutCase.get(identifier);\n\n          if (array) {\n            array.push(module);\n          } else {\n            moduleWithoutCase.set(identifier, [module]);\n          }\n        }\n\n        for (const pair of moduleWithoutCase) {\n          const array = pair[1];\n\n          if (array.length > 1) {\n            compilation.warnings.push(new CaseSensitiveModulesWarning(array));\n          }\n        }\n      });\n    });\n  }\n\n}\n\nmodule.exports = WarnCaseSensitiveModulesPlugin;","map":null,"metadata":{},"sourceType":"script"}