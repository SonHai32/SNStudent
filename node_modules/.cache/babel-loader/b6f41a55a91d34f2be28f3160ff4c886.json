{"ast":null,"code":"var _jsxFileName = \"/home/hari/Desktop/web-dev/React/cstudy/src/components/SidePanel/SidePanelLeft.js\";\nimport React from 'react';\nimport { Segment, Sidebar, Divider, Menu, Header, Button, Grid, List, Icon, Popup, Modal, Form } from 'semantic-ui-react';\nimport firebase from '../../firebase';\n\nclass SidePanelLeft extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      activeItems: 'NewsFeed',\n      channels: '',\n      modalOpen: false,\n      channelName: '',\n      channelDetail: '',\n      channelRef: firebase.database().ref('Channels'),\n      user: this.props.currentUser,\n      errors: []\n    };\n\n    this.addListener = () => {\n      let loadedChannels = [];\n      this.state.channelRef.on('child_added', snap => {\n        loadedChannels.push(snap.val());\n        this.setState({\n          channels: loadedChannels\n        });\n      });\n    };\n\n    this.removeListener = () => {\n      this.state.channelRef.off();\n    };\n\n    this.displayChannels = channels => channels.length > 0 && channels.map(channel => React.createElement(List.Item, {\n      style: {\n        textAlign: 'left',\n        marginLeft: '10px',\n        opacity: 0.7\n      },\n      onClick: () => console.log(\"object\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(List.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(List.Header, {\n      style: {\n        color: 'brown',\n        fontWeight: 400\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"star\",\n      color: \"yellow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }), channel.channelName, \" \"))));\n\n    this.handleItemClicked = (e, {\n      name\n    }) => {\n      this.setState({\n        activeItems: name\n      });\n    };\n\n    this.createChannelClicked = e => {\n      e.preventDefault();\n      this.setState({\n        modalOpen: true\n      });\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        modalOpen: false\n      });\n    };\n\n    this.handleChannelCreate = (e, {\n      name,\n      value\n    }) => {\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.channelCreateSubmit = () => {\n      if (this.isFormValid(this.state)) {\n        this.createChannel();\n      } else {\n        console.log(this.state.errors);\n      }\n    };\n\n    this.createChannel = () => {\n      const _this$state = this.state,\n            channelRef = _this$state.channelRef,\n            channelName = _this$state.channelName,\n            channelDetail = _this$state.channelDetail,\n            user = _this$state.user;\n      const key = channelRef.push().key;\n      const newChannel = {\n        channelName: channelName,\n        channelDetail: channelDetail,\n        createdBy: {\n          uid: user.uid,\n          name: user.displayName,\n          avatar: user.photoURL\n        }\n      };\n      channelRef.child(key).update(newChannel).then(() => {\n        this.setState({\n          channelName: '',\n          channelDetail: ''\n        });\n        this.closeModal();\n        console.log(\"channel created\");\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.isFormValid = ({\n      channelName,\n      channelDetail\n    }) => {\n      if (channelName === null || channelDetail === null) {\n        this.setState({\n          errors: this.state.errors.concat(\"Channel name or Channel description can't be null\")\n        });\n        return false;\n      } else if (channelName.length > 100) {\n        this.state({\n          errors: this.state.errors.concat(\"Channel name must be under 100 character\")\n        });\n        return false;\n      } else if (channelDetail.length > 300) {\n        this.setState({\n          errors: this.state.errors.concat(\"Channel Detail must be under 300 character\")\n        });\n        return false;\n      } else {\n        this.setState({\n          errors: []\n        });\n        return true;\n      }\n    };\n  }\n\n  componentWillMount() {\n    this.removeListener();\n  }\n\n  componentDidMount() {\n    this.addListener();\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          activeItems = _this$state2.activeItems,\n          modalOpen = _this$state2.modalOpen,\n          channels = _this$state2.channels;\n    return React.createElement(Grid, {\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      textAlign: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      fixed: \"left\",\n      vertical: true,\n      style: {\n        background: '#e7e7e7',\n        top: '80px'\n      },\n      color: \"black\",\n      pointing: true,\n      borderless: true,\n      size: \"huge\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, console.log(this.state.currentUser), React.createElement(Menu.Item, {\n      name: \"NewsFeed\",\n      active: activeItems === 'NewsFeed',\n      onClick: this.handleItemClicked,\n      color: \"green\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(Menu.Item, {\n      name: \"Channels\",\n      active: activeItems === 'Channels',\n      onClick: this.handleItemClicked,\n      color: \"green\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Channels\", activeItems === 'Channels' ? React.createElement(List, {\n      animated: true,\n      selection: true,\n      celled: true,\n      size: \"medium\",\n      style: {\n        marginTop: '20px',\n        overflowY: 'scroll',\n        overflowX: 'hidden',\n        overflowY: 'hidden'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Popup, {\n      style: {\n        opacity: 0.5\n      },\n      inverted: true,\n      mouseEnterDelay: 700,\n      position: \"top center\",\n      content: \"Create Your Channel\",\n      trigger: React.createElement(Button, {\n        basic: true,\n        fluid: true,\n        animated: \"fade\",\n        onClick: this.createChannelClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(Button.Content, {\n        hidden: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"add\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      })), React.createElement(Button.Content, {\n        visible: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Create Channel\")),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), this.displayChannels(channels)) : '')), React.createElement(Modal, {\n      dimmer: \"inverted\",\n      open: modalOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"Create Channel\"), React.createElement(Modal.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(Form, {\n      widths: \"equal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(Form.Input, {\n      name: \"channelName\",\n      required: true,\n      placeholder: \"Channel Name\",\n      onChange: this.handleChannelCreate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(Form.Input, {\n      name: \"channelDetail\",\n      required: true,\n      placeholder: \"Detail\",\n      onChange: this.handleChannelCreate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }))), React.createElement(Modal.Actions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(Button, {\n      inverted: true,\n      color: \"green\",\n      onClick: this.channelCreateSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Create\"), React.createElement(Button, {\n      inverted: true,\n      color: \"red\",\n      onClick: this.closeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Cancel\")))));\n  }\n\n}\n\nexport default SidePanelLeft;","map":{"version":3,"sources":["/home/hari/Desktop/web-dev/React/cstudy/src/components/SidePanel/SidePanelLeft.js"],"names":["React","Segment","Sidebar","Divider","Menu","Header","Button","Grid","List","Icon","Popup","Modal","Form","firebase","SidePanelLeft","Component","state","activeItems","channels","modalOpen","channelName","channelDetail","channelRef","database","ref","user","props","currentUser","errors","addListener","loadedChannels","on","snap","push","val","setState","removeListener","off","displayChannels","length","map","channel","textAlign","marginLeft","opacity","console","log","color","fontWeight","handleItemClicked","e","name","createChannelClicked","preventDefault","closeModal","handleChannelCreate","value","channelCreateSubmit","isFormValid","createChannel","key","newChannel","createdBy","uid","displayName","avatar","photoURL","child","update","then","catch","err","concat","componentWillMount","componentDidMount","render","background","top","marginTop","overflowY","overflowX"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,EAAkBC,OAAlB,EAA2BC,OAA3B,EAAmCC,IAAnC,EAAyCC,MAAzC,EAAiDC,MAAjD,EAAyDC,IAAzD,EAA+DC,IAA/D,EAAqEC,IAArE,EAA2EC,KAA3E,EAAkFC,KAAlF,EAAyFC,IAAzF,QAAqG,mBAArG;AACA,OAAOC,QAAP,MAAqB,gBAArB;;AAEA,MAAMC,aAAN,SAA4Bd,KAAK,CAACe,SAAlC,CAA2C;AAAA;AAAA;AAAA,SAEvCC,KAFuC,GAE/B;AAAEC,MAAAA,WAAW,EAAE,UAAf;AACEC,MAAAA,QAAQ,EAAE,EADZ;AAEEC,MAAAA,SAAS,EAAG,KAFd;AAGEC,MAAAA,WAAW,EAAE,EAHf;AAIEC,MAAAA,aAAa,EAAE,EAJjB;AAKEC,MAAAA,UAAU,EAAET,QAAQ,CAACU,QAAT,GAAoBC,GAApB,CAAwB,UAAxB,CALd;AAMEC,MAAAA,IAAI,EAAE,KAAKC,KAAL,CAAWC,WANnB;AAOEC,MAAAA,MAAM,EAAG;AAPX,KAF+B;;AAAA,SAsBvCC,WAtBuC,GAsBzB,MAAK;AACjB,UAAIC,cAAc,GAAG,EAArB;AACA,WAAKd,KAAL,CAAWM,UAAX,CAAsBS,EAAtB,CAAyB,aAAzB,EAAwCC,IAAI,IAAE;AAC5CF,QAAAA,cAAc,CAACG,IAAf,CAAoBD,IAAI,CAACE,GAAL,EAApB;AACA,aAAKC,QAAL,CAAc;AAACjB,UAAAA,QAAQ,EAAEY;AAAX,SAAd;AACD,OAHD;AAID,KA5BsC;;AAAA,SA8BvCM,cA9BuC,GA8BtB,MAAK;AACpB,WAAKpB,KAAL,CAAWM,UAAX,CAAsBe,GAAtB;AACD,KAhCsC;;AAAA,SAkCvCC,eAlCuC,GAkCrBpB,QAAQ,IAAIA,QAAQ,CAACqB,MAAT,GAAkB,CAAlB,IAAuBrB,QAAQ,CAACsB,GAAT,CAAaC,OAAO,IACvE,oBAAC,IAAD,CAAM,IAAN;AAAY,MAAA,KAAK,EAAE;AAACC,QAAAA,SAAS,EAAE,MAAZ;AAAoBC,QAAAA,UAAU,EAAE,MAAhC;AAAwCC,QAAAA,OAAO,EAAE;AAAjD,OAAnB;AAA0E,MAAA,OAAO,EAAE,MAAMC,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,MAAN;AAAa,MAAA,KAAK,EAAE;AAACC,QAAAA,KAAK,EAAE,OAAR;AAAiBC,QAAAA,UAAU,EAAE;AAA7B,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwD,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,MAAX;AAAkB,MAAA,KAAK,EAAC,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAxD,EAA4FP,OAAO,CAACrB,WAApG,MADF,CADF,CADmD,CAlCd;;AAAA,SA0CvC6B,iBA1CuC,GA0CnB,CAACC,CAAD,EAAI;AAACC,MAAAA;AAAD,KAAJ,KAAc;AAChC,WAAKhB,QAAL,CAAc;AAAClB,QAAAA,WAAW,EAAGkC;AAAf,OAAd;AACD,KA5CsC;;AAAA,SA8CvCC,oBA9CuC,GA8ChBF,CAAC,IAAG;AACzBA,MAAAA,CAAC,CAACG,cAAF;AACA,WAAKlB,QAAL,CAAc;AAAChB,QAAAA,SAAS,EAAE;AAAZ,OAAd;AACD,KAjDsC;;AAAA,SAmDvCmC,UAnDuC,GAmD1B,MAAK;AAEhB,WAAKnB,QAAL,CAAc;AAAChB,QAAAA,SAAS,EAAE;AAAZ,OAAd;AACD,KAtDsC;;AAAA,SAwDvCoC,mBAxDuC,GAwDjB,CAACL,CAAD,EAAI;AAACC,MAAAA,IAAD;AAAMK,MAAAA;AAAN,KAAJ,KAAoB;AACxC,WAAKrB,QAAL,CAAc;AAAC,SAACgB,IAAD,GAASK;AAAV,OAAd;AACD,KA1DsC;;AAAA,SA4DvCC,mBA5DuC,GA4DjB,MAAK;AACzB,UAAG,KAAKC,WAAL,CAAiB,KAAK1C,KAAtB,CAAH,EAAgC;AAC9B,aAAK2C,aAAL;AACD,OAFD,MAEK;AACHd,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAK9B,KAAL,CAAWY,MAAvB;AACD;AACF,KAlEsC;;AAAA,SAqEvC+B,aArEuC,GAqEvB,MAAK;AAAA,0BACoC,KAAK3C,KADzC;AAAA,YACZM,UADY,eACZA,UADY;AAAA,YACAF,WADA,eACAA,WADA;AAAA,YACaC,aADb,eACaA,aADb;AAAA,YAC4BI,IAD5B,eAC4BA,IAD5B;AAEnB,YAAMmC,GAAG,GAAGtC,UAAU,CAACW,IAAX,GAAkB2B,GAA9B;AACA,YAAMC,UAAU,GAAE;AAChBzC,QAAAA,WAAW,EAAEA,WADG;AAEhBC,QAAAA,aAAa,EAAEA,aAFC;AAGhByC,QAAAA,SAAS,EAAG;AACVC,UAAAA,GAAG,EAAEtC,IAAI,CAACsC,GADA;AAEVZ,UAAAA,IAAI,EAAE1B,IAAI,CAACuC,WAFD;AAGVC,UAAAA,MAAM,EAAExC,IAAI,CAACyC;AAHH;AAHI,OAAlB;AAUA5C,MAAAA,UAAU,CACP6C,KADH,CACSP,GADT,EAEGQ,MAFH,CAEUP,UAFV,EAGGQ,IAHH,CAGQ,MAAK;AACT,aAAKlC,QAAL,CAAc;AAACf,UAAAA,WAAW,EAAE,EAAd;AAAkBC,UAAAA,aAAa,EAAE;AAAjC,SAAd;AACA,aAAKiC,UAAL;AACAT,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACD,OAPH,EAOKwB,KAPL,CAOWC,GAAG,IAAG;AACb1B,QAAAA,OAAO,CAACC,GAAR,CAAYyB,GAAZ;AACD,OATH;AAUD,KA5FsC;;AAAA,SA8FvCb,WA9FuC,GA8FzB,CAAC;AAACtC,MAAAA,WAAD;AAAcC,MAAAA;AAAd,KAAD,KAAiC;AAG7C,UAAGD,WAAW,KAAK,IAAhB,IAAwBC,aAAa,KAAK,IAA7C,EAAkD;AAEhD,aAAKc,QAAL,CAAc;AAACP,UAAAA,MAAM,EAAE,KAAKZ,KAAL,CAAWY,MAAX,CAAkB4C,MAAlB,CAAyB,mDAAzB;AAAT,SAAd;AACA,eAAO,KAAP;AACD,OAJD,MAIM,IAAGpD,WAAW,CAACmB,MAAZ,GAAqB,GAAxB,EAA4B;AAEhC,aAAKvB,KAAL,CAAW;AAACY,UAAAA,MAAM,EAAE,KAAKZ,KAAL,CAAWY,MAAX,CAAkB4C,MAAlB,CAAyB,0CAAzB;AAAT,SAAX;AACA,eAAO,KAAP;AACD,OAJK,MAIA,IAAGnD,aAAa,CAACkB,MAAd,GAAuB,GAA1B,EAA8B;AAElC,aAAKJ,QAAL,CAAc;AAACP,UAAAA,MAAM,EAAE,KAAKZ,KAAL,CAAWY,MAAX,CAAkB4C,MAAlB,CAAyB,4CAAzB;AAAT,SAAd;AACA,eAAO,KAAP;AACD,OAJK,MAID;AACH,aAAKrC,QAAL,CAAc;AAACP,UAAAA,MAAM,EAAE;AAAT,SAAd;AACA,eAAO,IAAP;AACD;AACF,KAjHsC;AAAA;;AAczC6C,EAAAA,kBAAkB,GAAE;AAClB,SAAKrC,cAAL;AACD;;AAEDsC,EAAAA,iBAAiB,GAAE;AACjB,SAAK7C,WAAL;AACD;;AA+FC8C,EAAAA,MAAM,GAAE;AAAA,yBACsC,KAAK3D,KAD3C;AAAA,UACGC,WADH,gBACGA,WADH;AAAA,UACeE,SADf,gBACeA,SADf;AAAA,UAC0BD,QAD1B,gBAC0BA,QAD1B;AAEJ,WAEA,oBAAC,IAAD;AAAM,MAAA,QAAQ,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,MAAN;AAAa,MAAA,SAAS,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AACA,MAAA,KAAK,EAAC,MADN;AAEA,MAAA,QAAQ,MAFR;AAGA,MAAA,KAAK,EAAE;AAAE0D,QAAAA,UAAU,EAAE,SAAd;AAAyBC,QAAAA,GAAG,EAAE;AAA9B,OAHP;AAIA,MAAA,KAAK,EAAC,OAJN;AAKA,MAAA,QAAQ,MALR;AAMA,MAAA,UAAU,MANV;AAOA,MAAA,IAAI,EAAC,MAPL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAUGhC,OAAO,CAACC,GAAR,CAAY,KAAK9B,KAAL,CAAWW,WAAvB,CAVH,EAYA,oBAAC,IAAD,CAAM,IAAN;AACE,MAAA,IAAI,EAAC,UADP;AAGE,MAAA,MAAM,EAAEV,WAAW,KAAK,UAH1B;AAIE,MAAA,OAAO,EAAE,KAAKgC,iBAJhB;AAKE,MAAA,KAAK,EAAC,OALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZA,EAmBA,oBAAC,IAAD,CAAM,IAAN;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,MAAM,EAAEhC,WAAW,KAAK,UAH1B;AAIE,MAAA,OAAO,EAAE,KAAKgC,iBAJhB;AAKE,MAAA,KAAK,EAAC,OALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAQGhC,WAAW,KAAK,UAAhB,GAEC,oBAAC,IAAD;AAAM,MAAA,QAAQ,MAAd;AAAe,MAAA,SAAS,MAAxB;AAAyB,MAAA,MAAM,MAA/B;AAAgC,MAAA,IAAI,EAAC,QAArC;AAA8C,MAAA,KAAK,EAAE;AAAC6D,QAAAA,SAAS,EAAE,MAAZ;AAAqBC,QAAAA,SAAS,EAAE,QAAhC;AAA0CC,QAAAA,SAAS,EAAE,QAArD;AAA+DD,QAAAA,SAAS,EAAC;AAAzE,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGI,oBAAC,KAAD;AACE,MAAA,KAAK,EAAE;AAACnC,QAAAA,OAAO,EAAE;AAAV,OADT;AAEE,MAAA,QAAQ,MAFV;AAGE,MAAA,eAAe,EAAE,GAHnB;AAIE,MAAA,QAAQ,EAAC,YAJX;AAKE,MAAA,OAAO,EAAC,qBALV;AAME,MAAA,OAAO,EACP,oBAAC,MAAD;AAAQ,QAAA,KAAK,MAAb;AAAc,QAAA,KAAK,MAAnB;AAAoB,QAAA,QAAQ,EAAC,MAA7B;AAAoC,QAAA,OAAO,EAAE,KAAKQ,oBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE,oBAAC,MAAD,CAAQ,OAAR;AAAgB,QAAA,MAAM,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAFF,EAME,oBAAC,MAAD,CAAQ,OAAR;AAAgB,QAAA,OAAO,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BANF,CAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAsBS,KAAKd,eAAL,CAAqBpB,QAArB,CAtBT,CAFD,GA0BI,EAlCP,CAnBA,CADF,EA4DA,oBAAC,KAAD;AAAO,MAAA,MAAM,EAAC,UAAd;AAAyB,MAAA,IAAI,EAAEC,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI,oBAAC,KAAD,CAAO,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,MAAM,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AACE,MAAA,IAAI,EAAC,aADP;AAEE,MAAA,QAAQ,MAFV;AAGE,MAAA,WAAW,EAAC,cAHd;AAIE,MAAA,QAAQ,EAAE,KAAKoC,mBAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE,oBAAC,IAAD,CAAM,KAAN;AACE,MAAA,IAAI,EAAC,eADP;AAEE,MAAA,QAAQ,MAFV;AAGE,MAAA,WAAW,EAAC,QAHd;AAIE,MAAA,QAAQ,EAAE,KAAKA,mBAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF,CAFJ,EAoBI,oBAAC,KAAD,CAAO,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,QAAQ,MAAhB;AAAiB,MAAA,KAAK,EAAC,OAAvB;AAA+B,MAAA,OAAO,EAAE,KAAKE,mBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI,oBAAC,MAAD;AAAQ,MAAA,QAAQ,MAAhB;AAAiB,MAAA,KAAK,EAAC,KAAvB;AAA6B,MAAA,OAAO,EAAE,KAAKH,UAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,CApBJ,CA5DA,CADF,CAFA;AA8FH;;AAnNsC;;AAsN3C,eAAexC,aAAf","sourcesContent":["import React from 'react'\nimport { Segment, Sidebar, Divider,Menu, Header, Button, Grid, List, Icon, Popup, Modal, Form } from 'semantic-ui-react'\nimport firebase from '../../firebase'\n\nclass SidePanelLeft extends React.Component{\n\n    state = { activeItems: 'NewsFeed',\n              channels: '',\n              modalOpen : false,\n              channelName: '',\n              channelDetail: '',\n              channelRef: firebase.database().ref('Channels'),\n              user: this.props.currentUser,\n              errors : [],\n              \n                    \n  };\n\n  componentWillMount(){\n    this.removeListener();\n  }\n\n  componentDidMount(){\n    this.addListener();\n  }\n  \n    addListener = () =>{\n      let loadedChannels = [];\n      this.state.channelRef.on('child_added', snap=>{\n        loadedChannels.push(snap.val());\n        this.setState({channels: loadedChannels})\n      })\n    }\n\n    removeListener = () =>{\n      this.state.channelRef.off()\n    }\n\n    displayChannels = channels => channels.length > 0 && channels.map(channel =>(\n      <List.Item  style={{textAlign: 'left' ,marginLeft: '10px', opacity: 0.7}} onClick={() => console.log(\"object\")} >\n        <List.Content>\n          <List.Header style={{color: 'brown', fontWeight: 400}} ><Icon name='star' color='yellow' />{channel.channelName} </List.Header>\n        </List.Content>\n      </List.Item>\n    ))\n\n    handleItemClicked = (e ,{name}) =>{\n      this.setState({activeItems : name})\n    }\n\n    createChannelClicked = e =>{\n      e.preventDefault();\n      this.setState({modalOpen: true})\n    }\n\n    closeModal = () =>{\n  \n      this.setState({modalOpen: false})\n    }\n\n    handleChannelCreate = (e, {name,value}) =>{\n      this.setState({[name] : value})\n    }\n\n    channelCreateSubmit = () =>{\n      if(this.isFormValid(this.state)){\n        this.createChannel()\n      }else{\n        console.log(this.state.errors)\n      }\n    }\n\n\n    createChannel = () =>{\n      const {channelRef, channelName, channelDetail, user} = this.state;\n      const key = channelRef.push().key\n      const newChannel ={\n        channelName: channelName,\n        channelDetail: channelDetail,\n        createdBy : {\n          uid: user.uid,\n          name: user.displayName,\n          avatar: user.photoURL\n        }\n      }\n\n      channelRef\n        .child(key)\n        .update(newChannel)\n        .then(() =>{\n          this.setState({channelName: '', channelDetail: ''})\n          this.closeModal();\n          console.log(\"channel created\")\n        }).catch(err =>{\n          console.log(err)\n        })\n    }\n\n    isFormValid = ({channelName, channelDetail}) =>{\n\n      \n      if(channelName === null || channelDetail === null){\n\n        this.setState({errors: this.state.errors.concat(\"Channel name or Channel description can't be null\" )});\n        return false\n      }else if(channelName.length > 100){\n\n        this.state({errors: this.state.errors.concat(\"Channel name must be under 100 character\")});\n        return false;\n      }else if(channelDetail.length > 300){\n        \n        this.setState({errors: this.state.errors.concat(\"Channel Detail must be under 300 character\")})\n        return false\n      }else{\n        this.setState({errors: []})\n        return true;\n      }\n    }\n\n    render(){\n        const {activeItems,modalOpen, channels} = this.state;\n        return(\n         \n        <Grid centered>\n          <Grid.Column textAlign='center'> \n            <Menu   \n            fixed='left'\n            vertical\n            style={{ background: '#e7e7e7', top: '80px'}}\n            color='black'\n            pointing\n            borderless\n            size='huge'\n          \n            >\n              {console.log(this.state.currentUser)}\n            \n            <Menu.Item \n              name='NewsFeed'\n            \n              active={activeItems === 'NewsFeed'}\n              onClick={this.handleItemClicked}\n              color='green'\n            />\n            <Menu.Item \n              \n              name='Channels'\n              active={activeItems === 'Channels'}\n              onClick={this.handleItemClicked}\n              color='green'\n            >\n              Channels\n              {activeItems === 'Channels' ? \n                \n                <List animated selection celled size='medium' style={{marginTop: '20px' , overflowY: 'scroll' ,overflowX: 'hidden', overflowY:'hidden' }}  >\n                  \n                    \n                    <Popup\n                      style={{opacity: 0.5}}\n                      inverted\n                      mouseEnterDelay={700}\n                      position='top center'\n                      content='Create Your Channel'\n                      trigger={\n                      <Button basic fluid animated='fade' onClick={this.createChannelClicked}>\n                      \n                        <Button.Content hidden>\n                        \n                          <Icon name='add' />\n                        </Button.Content>\n                        <Button.Content visible>\n                           Create Channel\n                        </Button.Content>\n                      </Button>}\n                    />\n                  \n                        {this.displayChannels(channels)}\n                </List>\n                 : ''\n                 \n              }\n              </Menu.Item>\n            \n          </Menu>\n          <Modal dimmer='inverted' open={modalOpen}> \n              <Modal.Header>Create Channel</Modal.Header>\n              <Modal.Content>\n                <Form widths='equal' >\n                  <Form.Input \n                    name='channelName'\n                    required \n                    placeholder='Channel Name' \n                    onChange={this.handleChannelCreate}\n                  />\n                  <Form.Input\n                    name='channelDetail'\n                    required \n                    placeholder='Detail'\n                    onChange={this.handleChannelCreate} \n                  />\n              \n                </Form>\n                \n              </Modal.Content>\n              <Modal.Actions>\n                  <Button inverted color='green' onClick={this.channelCreateSubmit} >Create</Button>\n                  <Button inverted color='red' onClick={this.closeModal}>Cancel</Button>\n              </Modal.Actions>\n\n          </Modal>\n          </Grid.Column>\n        </Grid>\n       \n        )\n\n    }\n}\n\nexport default SidePanelLeft;"]},"metadata":{},"sourceType":"module"}