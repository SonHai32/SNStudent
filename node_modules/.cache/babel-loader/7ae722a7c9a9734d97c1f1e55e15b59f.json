{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst WebpackError = require(\"./WebpackError\");\n/** @typedef {import(\"./Module\")} Module */\n\n/**\n * @param {Module[]} modules the modules to be sorted\n * @returns {Module[]} sorted version of original modules\n */\n\n\nconst sortModules = modules => {\n  return modules.slice().sort((a, b) => {\n    const aIdent = a.identifier();\n    const bIdent = b.identifier();\n    /* istanbul ignore next */\n\n    if (aIdent < bIdent) return -1;\n    /* istanbul ignore next */\n\n    if (aIdent > bIdent) return 1;\n    /* istanbul ignore next */\n\n    return 0;\n  });\n};\n/**\n * @param {Module[]} modules each module from throw\n * @returns {string} each message from provided moduels\n */\n\n\nconst createModulesListMessage = modules => {\n  return modules.map(m => {\n    let message = \"* \".concat(m.identifier());\n    const validReasons = m.reasons.filter(reason => reason.module);\n\n    if (validReasons.length > 0) {\n      message += \"\\n    Used by \".concat(validReasons.length, \" module(s), i. e.\");\n      message += \"\\n    \".concat(validReasons[0].module.identifier());\n    }\n\n    return message;\n  }).join(\"\\n\");\n};\n\nclass CaseSensitiveModulesWarning extends WebpackError {\n  /**\n   * Creates an instance of CaseSensitiveModulesWarning.\n   * @param {Module[]} modules modules that were detected\n   */\n  constructor(modules) {\n    const sortedModules = sortModules(modules);\n    const modulesList = createModulesListMessage(sortedModules);\n    super(\"There are multiple modules with names that only differ in casing.\\nThis can lead to unexpected behavior when compiling on a filesystem with other case-semantic.\\nUse equal casing. Compare these module identifiers:\\n\".concat(modulesList));\n    this.name = \"CaseSensitiveModulesWarning\";\n    this.origin = this.module = sortedModules[0];\n    Error.captureStackTrace(this, this.constructor);\n  }\n\n}\n\nmodule.exports = CaseSensitiveModulesWarning;","map":null,"metadata":{},"sourceType":"script"}