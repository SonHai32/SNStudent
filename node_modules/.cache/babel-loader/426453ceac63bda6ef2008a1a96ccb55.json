{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Florent Cailhol @ooflorent\n*/\n\"use strict\";\n\nconst ConstDependency = require(\"./ConstDependency\");\n\nclass HarmonyTopLevelThisParserPlugin {\n  apply(parser) {\n    parser.hooks.expression.for(\"this\").tap(\"HarmonyTopLevelThisParserPlugin\", node => {\n      if (!parser.scope.topLevelScope) return;\n      const module = parser.state.module;\n      const isHarmony = !!(module.buildMeta && module.buildMeta.exportsType);\n\n      if (isHarmony) {\n        const dep = new ConstDependency(\"undefined\", node.range, false);\n        dep.loc = node.loc;\n        parser.state.current.addDependency(dep);\n      }\n    });\n  }\n\n}\n\nmodule.exports = HarmonyTopLevelThisParserPlugin;","map":null,"metadata":{},"sourceType":"script"}