{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst _require = require(\"webpack-sources\"),\n      RawSource = _require.RawSource;\n\nconst ModuleFilenameHelpers = require(\"./ModuleFilenameHelpers\");\n\nconst cache = new WeakMap();\n\nclass EvalDevToolModuleTemplatePlugin {\n  constructor(options) {\n    this.sourceUrlComment = options.sourceUrlComment || \"\\n//# sourceURL=[url]\";\n    this.moduleFilenameTemplate = options.moduleFilenameTemplate || \"webpack://[namespace]/[resourcePath]?[loaders]\";\n    this.namespace = options.namespace || \"\";\n  }\n\n  apply(moduleTemplate) {\n    moduleTemplate.hooks.module.tap(\"EvalDevToolModuleTemplatePlugin\", (source, module) => {\n      const cacheEntry = cache.get(source);\n      if (cacheEntry !== undefined) return cacheEntry;\n      const content = source.source();\n      const str = ModuleFilenameHelpers.createFilename(module, {\n        moduleFilenameTemplate: this.moduleFilenameTemplate,\n        namespace: this.namespace\n      }, moduleTemplate.runtimeTemplate.requestShortener);\n      const footer = \"\\n\" + this.sourceUrlComment.replace(/\\[url\\]/g, encodeURI(str).replace(/%2F/g, \"/\").replace(/%20/g, \"_\").replace(/%5E/g, \"^\").replace(/%5C/g, \"\\\\\").replace(/^\\//, \"\"));\n      const result = new RawSource(\"eval(\".concat(JSON.stringify(content + footer), \");\"));\n      cache.set(source, result);\n      return result;\n    });\n    moduleTemplate.hooks.hash.tap(\"EvalDevToolModuleTemplatePlugin\", hash => {\n      hash.update(\"EvalDevToolModuleTemplatePlugin\");\n      hash.update(\"2\");\n    });\n  }\n\n}\n\nmodule.exports = EvalDevToolModuleTemplatePlugin;","map":null,"metadata":{},"sourceType":"script"}